# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Stax2aws < Formula
  desc "Official CLI for logging into Stax-managed AWS accounts."
  homepage "https://github.com/stax-labs/stax2aws-releases"
  version "1.5.3"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.3/stax2aws_1.5.3_macOS_arm64.zip"
      sha256 "fc3da9e99dd14e79acf3423a012596f45886823b451286781c2d81b4c82c65cd"
    end
    if Hardware::CPU.intel?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.3/stax2aws_1.5.3_macOS_amd64.zip"
      sha256 "9b00e4a71f7b350b419f5aa8cd24f6e45bbfd53175a2e7a0612ff2ec8cf4990a"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.3/stax2aws_1.5.3_linux_amd64.tar.gz"
      sha256 "f08d17b4ebd498cc541d027c607fcb7ce8f9aaca802315e60386d05feb002952"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.3/stax2aws_1.5.3_linux_arm64.tar.gz"
      sha256 "e955d0a0e52d4fc530e11b7d34ec955053c6d85045981fac86931529c0678b18"
    end
  end

  def install
    bin.install "stax2aws"
    output = Utils.popen_read("#{bin}/stax2aws completion bash")
    (bash_completion/"stax2aws").write output
    output = Utils.popen_read("#{bin}/stax2aws completion zsh")
    (zsh_completion/"_stax2aws").write output
    output = Utils.popen_read("#{bin}/stax2aws completion fish")
    (fish_completion/"stax2aws.fish").write output
    prefix.install_metafiles
  end

  test do
    system "#{bin}/stax2aws --version"
  end
end
