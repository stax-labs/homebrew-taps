# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Stax2aws < Formula
  desc "Official CLI for logging into Stax-managed AWS accounts."
  homepage "https://github.com/stax-labs/stax2aws-releases"
  version "1.4.2"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.4.2/stax2aws_1.4.2_macOS_arm64.tar.gz"
      sha256 "c27d42e5cfedac06e6546634eba09ece80649f7e65221c6226a07364e95da80a"
    end
    if Hardware::CPU.intel?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.4.2/stax2aws_1.4.2_macOS_amd64.tar.gz"
      sha256 "1328e4fad61718f5058d84a9a2dc4ea5ea792cb7de5bab5a4585519fcfafe410"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.4.2/stax2aws_1.4.2_linux_amd64.tar.gz"
      sha256 "f876a1e36cf72cfbb5d9ff0bd9bfc70d2668ab164783df79db897a4d07941d55"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.4.2/stax2aws_1.4.2_linux_arm64.tar.gz"
      sha256 "8a96b05e51da7e45a3d123ca1d79b514b8e55e4ca021c2a15c5a0b665f39b5c2"
    end
  end

  def install
    bin.install 'stax2aws'

    output = Utils.popen_read("#{bin}/stax2aws completion bash")
    (bash_completion/"stax2aws").write output

    output = Utils.popen_read("#{bin}/stax2aws completion zsh")
    (zsh_completion/"_stax2aws").write output

    prefix.install_metafiles
  end

  test do
    system "#{bin}/stax2aws --version"
  end
end
