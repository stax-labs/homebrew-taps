# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Stax2aws < Formula
  desc "Official CLI for logging into Stax-managed AWS accounts."
  homepage "https://github.com/stax-labs/stax2aws-releases"
  version "1.5.2"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.2/stax2aws_1.5.2_macOS_arm64.zip"
      sha256 "aa60c51657646d4db356c02aa2047e3cedc64246cc7a8fdb152a88b58ae9368c"
    end
    if Hardware::CPU.intel?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.2/stax2aws_1.5.2_macOS_amd64.zip"
      sha256 "727b92c1319e5d6b4018a379f66fe2fcd7293f6a52e8c7eaaca74cc6636f60e1"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.2/stax2aws_1.5.2_linux_amd64.tar.gz"
      sha256 "13d00f879f9d89c6cbcf2f63d7b8a47b02e9533de0516f05604ea6daa864f7a1"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/stax-labs/stax2aws-releases/releases/download/v1.5.2/stax2aws_1.5.2_linux_arm64.tar.gz"
      sha256 "cb12769d4ade89a6ed6c9c7644e07b54a458062fdb948e5622479b55ecab6f80"
    end
  end

  def install
    bin.install "stax2aws"
    output = Utils.popen_read("#{bin}/stax2aws completion bash")
    (bash_completion/"stax2aws").write output
    output = Utils.popen_read("#{bin}/stax2aws completion zsh")
    (zsh_completion/"_stax2aws").write output
    output = Utils.popen_read("#{bin}/stax2aws completion fish")
    (fish_completion/"stax2aws.fish").write output
    prefix.install_metafiles
  end

  test do
    system "#{bin}/stax2aws --version"
  end
end
